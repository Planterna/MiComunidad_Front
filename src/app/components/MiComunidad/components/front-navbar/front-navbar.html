
<nav
  class="fixed top-0 z-[100] navbar bg-base-100/70 backdrop-blur-lg border-b border-base-content/10 px-4 font-montserrat transition-all"
>

  <!-- IZQUIERDA -->
  <div class="navbar-start">

    @if (auth.isLoggedIn()) {
      <div class="dropdown">
        <div
          tabindex="0"
          role="button"
          class="btn btn-ghost btn-circle hover:bg-primary/20 transition-colors"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
            viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h7" />
          </svg>
        </div>

        <ul
          tabindex="0"
          class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-56 p-2 shadow-2xl border border-base-300"
        >
          <li class="menu-title text-primary uppercase text-xs font-bold">
            Navegación
          </li>

          <li><a routerLink="/reserva" class="py-3">Reservas</a></li>
          <li><a routerLink="/recurso" class="py-3">Recursos</a></li>
          <li><a routerLink="/noticia" class="py-3">Noticias</a></li>

          <div class="divider my-0"></div>

          <li><a routerLink="/historial-uso" class="py-3">Historial de Uso</a></li>

          @if (auth.getRole() === 'Administrador') {
            <li>
              <a routerLink="/admin" class="py-3 font-bold text-primary">
                Panel Admin
              </a>
            </li>
          }
        </ul>
      </div>
    }

  </div>

  <!-- CENTRO -->
  <div class="navbar-center">
    <a
      routerLink="/"
      class="btn btn-ghost text-xl md:text-2xl font-black tracking-tighter
             bg-gradient-to-r from-primary to-secondary bg-clip-text
             text-transparent uppercase"
    >
      Mi Comunidad
    </a>
  </div>

  <!-- DERECHA -->
  <div class="navbar-end gap-2 md:gap-4">
    @if (auth.isLoggedIn() && auth.getRole() === 'Administrador') {
        <a
          routerLink="/usuario/dashboard"
          class="btn btn-sm btn-primary"
        >
          Dashboard
        </a>
      }
    <!-- TOGGLE TEMA -->
    <label class="grid cursor-pointer place-items-center">
      <input
        type="checkbox"
        value="night"
        class="toggle theme-controller col-span-2 col-start-1 row-start-1
               border-primary bg-primary
               [--tglbg:theme(colors.base-100)]
               checked:border-secondary checked:bg-secondary"
      />

      <svg class="stroke-base-100 fill-base-100 col-start-1 row-start-1 h-3 w-3"
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round"
        stroke-linejoin="round">
        <circle cx="12" cy="12" r="5" />
        <path
          d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4
             M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4" />
      </svg>

      <svg class="stroke-base-100 fill-base-100 col-start-2 row-start-1 h-3 w-3"
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round"
        stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
      </svg>
    </label>

    <!-- AVATAR -->
    <div class="dropdown dropdown-end">
      <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar online">
        <div
          class="w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2
                 hover:scale-105 transition-transform"
        >
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
            class="bi bi-person-circle w-full h-full p-0.5 text-base-content/70"
            viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
            <path fill-rule="evenodd"
              d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8
                 m8-7a7 7 0 0 0-5.468 11.37
                 C3.242 11.226 4.805 10 8 10
                 s4.757 1.225 5.468 2.37
                 A7 7 0 0 0 8 1" />
          </svg>
        </div>
      </div>
      
      <ul
        tabindex="0"
        class="dropdown-content menu bg-base-100 rounded-box z-[1] mt-3 w-52 p-2
               shadow-2xl border border-base-300"
      >

        @if (!auth.isLoggedIn()) {
          
          <li>
            <a routerLink="/login" class="font-bold text-primary">
              Iniciar Sesión
            </a>
          </li>
          <li>
            <a routerLink="/register">Registrarse</a>
          </li>
        }

        @if (auth.isLoggedIn()) {
          <li class="px-2 text-sm font-semibold">
            {{ auth.getNombreCompleto() }}
          </li>

          <li><a routerLink="/perfil">Perfil</a></li>

          <div class="divider my-0"></div>

          <li>
            <a class="text-error font-bold" (click)="auth.logout()">
              Cerrar Sesión
            </a>
          </li>
        }

      </ul>
    </div>
  </div>
</nav>
